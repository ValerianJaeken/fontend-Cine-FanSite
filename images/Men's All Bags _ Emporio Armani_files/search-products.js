"use strict";!function($,$Y){var o="itemLoaded",e="open",t='[data-component-name="search-products"]',n=".wrapper",s="[data-ytos-color-selector]",i=".colorSelection [data-ytos-color-selector]",c="click.itemColors",r={infinite:!1,arrows:!0,mobileFirst:!1,dots:!1,slidesToShow:3,slidesToScroll:1,nextArrow:'<span class="slick-arrow slick-next">',prevArrow:'<span class="slick-arrow slick-prev">'},a=function(o){var e=void 0;if(!0===(e=void 0!==o?o.$el:$(t)).data("componentInit"))return!0;l(e),e.data("componentInit",!0)},l=function(o){m(o),y(o),v(o)},d=function(o){yTos.utils.hasTouchEvents()?$Y.watch({"yTos::Item::NotifyColorChanged":function(e){var t=o.find(s+".selected").data("ytosMdl");document.location.href=t.link}}):o.find(s).on(yTos.clickEvent,function(o){var e=$(this).data("ytosMdl");document.location.href=e.link})},u=function(o){if(yTos.utils.hasTouchEvents())$Y.notify("yTos::OpenLayer",{content:o,cssClasses:["colors-panel"]});else{var t=o.find(".colorSelection li").length,n=o.find(".colorSelection ul");0===o.find(".colorSelection .icon.close").length&&o.find(".colorSelection .selectionTitle").before('<a class="icon close"></a>'),t>2&&o.find(".colorSelection").addClass("more-two"),t>3&&!n.hasClass("slick-initialized")&&f(n),$(".item .colours-panel.open").removeClass(e),$(document).unbind(c),o.addClass(e),setTimeout(function(){$(document).bind(c,function(t){$(t.target).parents().hasClass("colours-panel")||(o.removeClass(e),$(document).unbind(c))}),o.find(".icon.close").on(yTos.clickEvent,function(t){o.removeClass(e),o.find(".description").removeClass(e),$(document).unbind(c)})},300),void 0===o.data("colorsTooltipInit")&&p(o)}},f=function(o){"function"!=typeof $.fn.slick?reqVendors(["slick-1.6.0-custom"],function(e){o.slick(r)}):o.slick(r)},p=function(o){o.attr("data-colorsTooltipInit","true"),o.find(i).mouseenter(function(o){var t=$(this);setTimeout(function(){$(i).find(".description").removeClass(e),t.find(".description").addClass(e)},300)}).mouseleave(function(o){$(this).find(".description").removeClass(e)})},m=function(e){var t;$Y.notify(yTos.customEvents.LAZYLOAD,{$imgs:(t=e,t.find(".wrapper:not("+o+") img.mainImage")),scope:"products.js",callback:function(){this.closest(n).addClass(o).find(".preloader-container").remove()}})},y=function(o){o.on("mouseenter",".wrapper.altToLoad",function(){$Y.notify(yTos.customEvents.LAZYLOAD,{$imgs:$(this).find(".hoverImage"),scope:"SingleProd",callback:function(){this.closest(n).removeClass("altToLoad")}})})},v=function(o){$Y.notify(yTos.customEvents.TC_CHECKCLICK,{$wrapper:o,elSelector:".item a.wrapper, .item-info > a",dataObj:function(o){return JSON.parse(o.closest(".item").attr("data-ytos-track-product-data"))},preventClick:!0,type:"enh_prod"})};$Y.watchOne({"yTos::HelperParsed::ui.picturePolyfill":function(o){"function"==typeof o&&(o.prototype.globalMessages=(o.prototype.globalMessages,{}))},"yTos::HelperParsed::search.products":function(o){o.prototype.initInfiniteScroll=function(){}},"yTos::HelperParsed::item.selectColor":function(o){yTos.utils.hasTouchEvents()||(o.prototype.events=function(){return{"li[data-ytos-color-selector] mouseenter":"colorClicked",click:"openDropDown","select change":"colorClicked",mouseenter:"colorsMouseenter",mouseleave:"colorsMouseleave"}})}}),$Y.watch({"yTos::HelperLoaded::search.products":a,"yTos::Item::RecentlyViewedHTMLReady":a,"yTos::Search::ProductsReady":function(o){m(o)},"yTos::HelperLoaded::gridr.updater":function(){$('[data-component-name="search-products"].slot_product').length&&a()},"Store::LazyLoad:products.js":function(){$(".colorQuantity").on(yTos.clickEvent,function(o){var e=yTos.utils.hasTouchEvents()?$(o.target).next().clone():$(this).parent();u(e),d(e)})}})}(jQuery,yTos);
//# sourceMappingURL=search-products.js.map
