"use strict";!function($,$Y){var t="sticky",e="static",o="hidden",a=yTos.isDesktop?1200:2400,s=$('[data-component-name="search-products"]').data("labels").moreToLoad,n=$('[data-component-name="search-more-actions"]'),i=n.find('[data-component-name="back-to-top"]'),d=n.find(".loadedItems"),r=n.find(".loadMoreButton"),c=n.offset().top-$(window).height(),u=function(){l(),L()},l=function(){var t={};t[$Y.customEvents.WINDOW_SCROLLED]=v,t[$Y.customEvents.WINDOW_RESIZED]=p,t[yTos.customEvents.OPEN_FILTER_LAYER]=p,t[yTos.customEvents.CLOSE_FILTER_LAYER]=p,$Y.watch(t),$Y.watch({"yTos::Search::LoadMoreButtonUpdated":T,"yTos::Search::TotalItemsUpdated":y,"yTos::HelpersFinishedLoading":p,"yTos::Search::filterAdded":f,"yTos::Search::LoadedItemsRefreshed":function(){p(),y(),h()},"Store::LazyLoad:products.js":function(){h(),y()}})},f=function(){yTos.search.page=1},p=function(){setTimeout(function(){c=n.offset().top-$(window).height()},300)},h=function(){d.find(".partialQuantity").text(m()),$("#ui-blocker, #ui-site-preloader").removeClass("loading")},m=function(){return Number($('#wrapper > [data-component-name="search-products"] > .item').length)},y=function(){Number(d.find(".totalQuantity").text())<=m()?r.attr("disabled","disabled").addClass(o):r.removeAttr("disabled").removeClass(o)},T=function(t){t.content[1].innerText=s},v=function(o){o.top>c?i.addClass(e):(i.removeClass(e),o.top>=a&&!i.hasClass(t)&&i.hide().addClass(t).stop().fadeIn(800),o.top<a&&i.hasClass(t)&&i.stop().fadeOut(800,function(){i.removeClass(t).show()}))},L=function(){i.find("button").on(yTos.clickEvent,function(){return i.addClass(o),$("html,body").animate({scrollTop:0},800,function(){i.removeClass(o)}),!1})};$Y.watch({"yTos::HelperLoaded::search.resetFilters":function(){n.each(function(t,e){var o=$(e);if(!0===o.data("initialized"))return!0;u.apply(o),o.data("initialized",!0)})},"yTos::HelperParsed::search.loadMoreButton":function(t){t.prototype.loadMoreItems=function(){if(this.shouldLoadMore()){var t=Number(yTos.search.page)+1;this.model.setFilter({key:"page",value:t}),yTos.search.page=t,$("#ui-blocker, #ui-site-preloader").addClass("loading")}}}})}(jQuery,yTos);
//# sourceMappingURL=search-more-actions.js.map
