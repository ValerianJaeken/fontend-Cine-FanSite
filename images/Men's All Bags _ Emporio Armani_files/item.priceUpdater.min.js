define(["ytos.item"],function(){return yTos.utils.namespace("yTos.helpers.Item.PriceUpdater"),yTos.helpers.Item.PriceUpdater=yTos.helpers.base.extend({initialize:function(){this.options.disableAjaxUpdate||this.updatePrice()},localMessages:function(){var a={};return this.options.enableAjaxUpdateOnColorChanges&&(a["yTos::Item::ColorChanged"]="updatePrice"),a},updatePrice:function(a){var b="undefined"!=typeof a&&a.code10?a.code10:this.options.code10;this.getHTML("/yTos/Plugins/ItemPlugin/"+this.options.priceType,{data:$Y.prepareData({code10:b,siteCode:this.options.siteCode,options:{enableAjaxUpdate:!this.options.disableAjaxUpdate,enableAjaxUpdateOnColorChanges:this.options.enableAjaxUpdateOnColorChanges,pricePriority:this.options.pricePriority,priceScope:this.options.priceScope}}),success:function(){this.notify("Item.priceUpdater::Update"),this.notify("yTos::Item::PriceUpdated",{$el:this.$el})}.bind(this),autoUpdate:!0,stripMe:!0})}}),yTos.helpers.Item.PriceUpdater});