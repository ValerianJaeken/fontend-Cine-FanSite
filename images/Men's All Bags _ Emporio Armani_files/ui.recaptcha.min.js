define([],function(){yTos.utils.namespace("yTos.helpers.UI.Recaptcha");var a=[];return yTos.helpers.UI.Recaptcha=yTos.helpers.base.extend({initialize:function(){var a=this.$el.find("[data-ytos-recaptcha-opt]").data(),b=this.$el.find(".g-recaptcha, #recaptcha_widget");if(!a||0===b.length)return!1;var c=a.ytosRecaptchaOpt;1===c.version?this.renderRecaptchaV1(b,c):this.renderRecaptchaV2(b,c)},renderRecaptchaV1:function(a,b){var c=window.location.protocol+"//"+b.url;require([c],function(){this.$el.find("#recaptcha_widget").length>0&&("custom"===b.theme.toLowerCase()&&(window.Recaptcha._add_css=function(){}),window.Recaptcha.create(b.publickey,"recaptcha_widget",{theme:b.theme.toLowerCase()}))}.bind(this))},renderRecaptchaV2:function(a,b){$.when.apply($,this.getRecaptchaPromises(b)).then(function(){window.grecaptcha.render(a[0],{sitekey:a.data("sitekey"),callback:this.recaptchaCallback,theme:b.theme})})},getRecaptchaPromises:function(b){var c=window.location.protocol+"//"+b.url;if(!window.grecaptcha){var d=$.Deferred();return a.push(d),window.initRecaptcha=function(){a.forEach(function(a){a.resolve()})},require([c]),a}},recaptchaCallback:function(){this.notify("yTos::UI.recaptcha::ValidationSucceded")},destroy:function(){window.grecaptcha&&("number"==typeof this.captchaInstanceId&&grecaptcha.reset(this.captchaInstanceId),$(".pls-container").remove()),this._super()}}),$Y.notify("yTos::HelperParsed::ui.recaptcha",yTos.helpers.UI.Recaptcha),yTos.helpers.UI.Recaptcha});