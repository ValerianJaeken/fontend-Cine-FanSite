define([],function(){return yTos.utils.namespace("yTos.helpers.Gridr.Updater"),yTos.helpers.Gridr.Updater=yTos.helpers.base.extend({events:{".slot > a click":"_slotClickHandler"},initialize:function(){$Y.watch({"yTos::HelpersFinishedLoading":$.proxy(this.updateGrid,this)},{oneShot:!0})},updateGrid:function(){var a=yTos.navigation.SiteCode;this.options.gridId&&this.options.gridType&&this.getHTML("/yTos/Gridr/UpdatedGrid/"+a+"/"+this.options.gridId+"/"+this.options.gridType,{success:$.proxy(function(a){this.notify("yTos::Gridr::GridUpdated",{gridId:this.options.gridId,gridType:this.options.gridType,response:a})},this),autoUpdate:!0,stripMe:!0})},_slotClickHandler:function(a){var b=$(a.currentTarget);yTos.tracking.trackEvent({event:"ClickBlock_"+b.closest("[data-grid-id]").data("gridId")+"_"+b.closest("[data-slot-id]").data("slotId"),label:b.attr("href")||""})}}),yTos.helpers.Gridr.Updater});