"use strict";!function($,$Y){var e=void 0,t=$('[data-component-name="siteHeader"]'),n=$("main"),o=$("main + footer");function r(e){$Y.notify(yTos.customEvents.TC_TRACKEVENT,{dataObj:{event:"NewsletterSubscription",label:e}})}function i(e){$Y.watchOne({"yTos::Account::NewsletterFormRefreshed":function(){$Y.watchOne({"yTos::EndAjaxRequest":function(e){var t=e.find(".newsletter-footer .descr"),n=e.find(".newsletterForm .submit");if(n.length)return void t.insertBefore(n);i(e)}(e)})}})}function a(e){var r=o.innerHeight(),i=r+t.innerHeight();$(window).width()>768&&e.height>i?(o.addClass("fixedFooter"),n.css("margin-bottom",r)):(o.removeClass("fixedFooter"),n.css("margin-bottom",0))}function c(){$(".newsletter-footer > .news-title:last").remove();var e=$("#subscribeNewsletterSuccess"),t=e.html(),n=t.split("<br>")[0]||"",o=t.split("<br>")[1]||"",r='<p><span class="title-thx">'+s(n)+"</span>"+s(o)+"</p>";e.html(r)}function s(e){return e.replace(/<{1}[^<>]{1,}>{1}/g,"").trim()}function u(){if(e){var t={};a({width:window.innerWidth,height:window.innerHeight}),t[$Y.customEvents.WINDOW_RESIZED]=function(e){return a(e)},$Y.watch(t)}}$Y.watch({"yTos::HelpersFinishedLoading":function(t){var n=void 0!==t?t.$el:document;[].forEach.call(n.querySelectorAll('[data-component-name="footer"]'),function(t){var n=$(t);if(!0===n.data("initialized"))return!0;(function(){var t;e="Account"!==$Y.navigation.Area&&"Help"!==$Y.navigation.Area&&"ExperiencePlugin"!==$Y.navigation.Controller&&"ProductExchange"!==$Y.navigation.Area&&"cartrecovery"!==$Y.navigation.Controller.toLowerCase()||"ExperiencePlugin"==$Y.navigation.Controller&&$Y.safeGet($Y,"experienceConfig.enableFooter"),t=this,reqModules(["ui-component.accordion"],function(e){e({wrapper:t,targetElement:".wrapper-title",targetParent:"li[data-ytos-tab]",targetContent:"[data-ytos-tab-body]",jsAnimation:!0})}),i(this),u()}).apply(n),n.data("initialized",!0)})},"yTos::Account::NewsletterFormRefreshed":u}),$Y.watchOne({"yTos::Account::SubscribeNewsletterSuccess":function(){r("footer"),$Y.watch({"yTos::Account::NewsletterRegistrionAttemptCompleted":function(){c(),u()}})}},{scope:"footer"}),$Y.watch({"yTos::Account::SubscribeNewsletterError":function(e){$(".newsletter-footer .alredy_reg").show()}},{scope:"footer"}),$Y.watch({"yTos::Account::SubscribeNewsletterError":function(e){$(".uiLayer-newsletterLink .alredy_reg").show()}},{scope:"popup"}),$Y.watchOne({"yTos::Account::SubscribeNewsletterSuccess":function(){r("popup"),$Y.watch({"yTos::Account::NewsletterRegistrionAttemptCompleted":c})}},{scope:"popup"})}(jQuery,yTos);
//# sourceMappingURL=footer.js.map
