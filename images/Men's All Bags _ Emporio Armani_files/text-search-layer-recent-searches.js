"use strict";!function($,$Y){var e='[data-component-name="text-search-layer"]',a="active",t="not-active",n=void 0,r=void 0,s=void 0,i=void 0,o=function(){n.fadeOut().removeClass(a)},c=function(e){var a=$Y.storage.get("armaniRecentSearches")||{};delete a[e],$Y.storage.del("armaniRecentSearches"),$Y.storage.set("armaniRecentSearches",a)},d=function(){var e=[],a=$Y.storage.get("armaniRecentSearches")||{};for(var t in a)e.push(a[t]);return e.sort(function(e,a){return e.time-a.time}),e.reverse(),e},v=function(e){for(var n=0;n<e.length;n++){var s=n<2?"active":"not-active",d=e[n],v=$('<li class="'+s+'" data-term="'+d.term+'"></li>').append("<a href="+d.url+">"+d.term+"</a>").append('<span class="remove">'+i+"</span>");r.append(v)}r.on($Y.clickEvent,".remove",function(){var e=$(this).parent(),n=r.find("."+t).first(),s=e.data("term");e.fadeOut(300,function(){e.removeClass(a),c(s),e.remove(),n.length>0?n.addClass(a).removeClass(t):1===r.length&&o()})})};$Y.watchOne({"yTos::HelpersFinishedLoading":function(){n=$(e).find(".searches-recent"),r=$(e).find(".searches-recent ul"),i=n.data("labelRemove"),(s=d()).length>0&&(v(s),n.addClass(a))}})}(jQuery,yTos);
//# sourceMappingURL=text-search-layer-recent-searches.js.map
