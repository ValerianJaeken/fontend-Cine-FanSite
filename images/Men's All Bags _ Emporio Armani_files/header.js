"use strict";!function(){var n={white_header:"emporio-armani"},t=document.querySelector("[data-component-name='siteHeader']"),e=document.querySelector("[data-component-name='gridr'] .grid");if(e&&e.dataset.tags&&""!==e.dataset.tags){var a=e.dataset.tags,i=[];for(var o in n)a.includes(o)&&i.push(n[o]);t.className=t.className+" "+i.join(" ")}t.className=t.className.replace("loading","")}(),function($,$Y){var n="hidden",t="anim-hidden",e="header-collapsed",a="block",i=($("header"),$("main"),$("html")),o=($('[data-component-name="navigation-menu"]'),$(".topbar"),function(){d(this),function(e){var i=e.find(".cycOpen"),o=e.find(".no-countries-page"),r=e.find(".cycClose"),s=e.find(".scroller");i.on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),o.hasClass(n)?$Y.isMobile()?$(location).attr("href",window.location.origin+"/countries/index"):($Y.notify($Y.customEvents.CLOSE_ALL_LAYERS),$Y.notify($Y.customEvents.CLOSE_IF_CLICK_OUTSIDE,[o,$('[data-component-name="header-usermenu"] .mainCartLink')]),i.addClass("active"),o.removeClass(n).addClass(a),o.outerWidth(),o.removeClass(t).off(),s.perfectScrollbar("update")):c()});var d={};function c(){o.removeClass(a),o.addClass(t).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){o.addClass(n).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),i.removeClass("active")}d[$Y.customEvents.CLOSE_ALL_LAYERS]=c,d=Object.assign(d,{"yTos::OpenLayer":c}),$Y.watch(d),$Y.watch({"yTos::OpenLayer":c,"yTos::Cart::ShowMiniCart":c}),r.on("click",function(n){n.stopImmediatePropagation(),c()}),l={},l[$Y.customEvents.WINDOW_SCROLLED]=c,$Y.watch(l);var l}(this),r.apply(this),s.apply(this),$(window).keyup(function(n){27==n.keyCode&&$Y.notify($Y.customEvents.CLOSE_ALL_LAYERS)})}),r=function(){var n,t="",e="",a=[];$(this).find("[data-target-parameters]").each(function(){if(n=$(this),-1!==(t=n.data("targetParameters")).indexOf("color")){a=t.split("&");var i=!0,o=!1,r=void 0;try{for(var s,d=a[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var c=s.value;-1!==c.indexOf("color")&&(e=c.split("=")[1])}}catch(n){o=!0,r=n}finally{try{!i&&d.return&&d.return()}finally{if(o)throw r}}n.find("> a > .text, > div > .text").addClass(e)}})},s=function(){var n={};n=Object.assign(n,{"store::OpenMyAccountWrapper":function(){$Y.notify($Y.customEvents.CLOSE_ALL_LAYERS)}}),$Y.watch(n)},d=function(n){if(-1===["Checkout","Account","LegalArea","Home","WishList","AddressBook","CreditCardWallet","Orders","User","Overview"].indexOf($Y.navigation.Controller)){var t=void 0,a=void 0,o=n.find('[data-component-name="navigation-menu"]'),r=window.innerWidth>1023,s="up",d={};d[$Y.customEvents.WINDOW_SCROLLED]=function(n){var t=n.top;if(n.direction===s&&r)return;"up"===n.direction?(i.removeClass(e),s=n.direction):t>a&&(o.find(".open-inpagemenu").length||(i.addClass(e),s=n.direction));t},d[$Y.customEvents.WINDOW_RESIZED]=c,$Y.watch(d),c({width:window.innerWidth})}function c(e){t=n.outerHeight(),a=2*t,r=e.width>1023}};$Y.watchOne({"yTos::HelpersFinishedLoading":function(){var n;n="undefined"!=typeof y?y.$el:document,[].forEach.call(n.querySelectorAll('[data-component-name="siteHeader"]'),function(n){var t=$(n);if(!0===t.data("initialized"))return!0;o.apply(t),t.data("initialized",!0)})}})}(jQuery,yTos);
//# sourceMappingURL=header.js.map
